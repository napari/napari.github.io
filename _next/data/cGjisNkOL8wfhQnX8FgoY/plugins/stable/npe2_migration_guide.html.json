{"pageProps":{"state":{"globalHeaders":{"https://napari-hub.org":{"level":1,"children":[],"href":"https://napari-hub.org","text":"napari hub"},"https://github.com/napari/napari":{"level":1,"children":[],"href":"https://github.com/napari/napari","text":"napari source code"},"/roadmaps/index.html":{"level":1,"children":["/roadmaps/0_4.html","/roadmaps/0_3_retrospective.html","/roadmaps/0_3.html"],"href":"/roadmaps/index.html","text":"Roadmaps"},"/roadmaps/0_3.html":{"level":2,"children":[],"href":"/roadmaps/0_3.html","text":"Roadmap 0.3"},"/roadmaps/0_3_retrospective.html":{"level":2,"children":[],"href":"/roadmaps/0_3_retrospective.html","text":"Roadmap 0.3 Retrospective"},"/roadmaps/0_4.html":{"level":2,"children":[],"href":"/roadmaps/0_4.html","text":"Roadmap 0.4"},"/release/index.html":{"level":1,"children":["/release/release_0_4_12.html","/release/release_0_4_11.html","/release/release_0_4_10.html","/release/release_0_4_9.html","/release/release_0_4_8.html","/release/release_0_4_7.html","/release/release_0_4_6.html","/release/release_0_4_5.html","/release/release_0_4_4.html","/release/release_0_4_3.html","/release/release_0_4_2.html","/release/release_0_4_1.html","/release/release_0_4_0.html","/release/release_0_3_8.html","/release/release_0_3_7.html","/release/release_0_3_6.html","/release/release_0_3_5.html","/release/release_0_3_4.html","/release/release_0_3_3.html","/release/release_0_3_2.html","/release/release_0_3_1.html","/release/release_0_3_0.html","/release/release_0_2_12.html","/release/release_0_2_11.html","/release/release_0_2_10.html","/release/release_0_2_9.html","/release/release_0_2_8.html","/release/release_0_2_7.html","/release/release_0_2_6.html","/release/release_0_2_5.html","/release/release_0_2_4.html","/release/release_0_2_3.html","/release/release_0_2_1.html","/release/release_0_2_0.html","/release/release_0_1_5.html","/release/release_0_1_3.html","/release/release_0_1_0.html","/release/release_0_4_13.html","/release/release_0_4_14.html"],"href":"/release/index.html","text":"Release notes"},"/release/release_0_4_14.html":{"level":2,"children":[],"href":"/release/release_0_4_14.html","text":"napari 0.4.14"},"/release/release_0_4_13.html":{"level":2,"children":[],"href":"/release/release_0_4_13.html","text":"napari 0.4.13"},"/release/release_0_1_0.html":{"level":2,"children":[],"href":"/release/release_0_1_0.html","text":"napari 0.1.0"},"/release/release_0_1_3.html":{"level":2,"children":[],"href":"/release/release_0_1_3.html","text":"napari 0.1.3"},"/release/release_0_1_5.html":{"level":2,"children":[],"href":"/release/release_0_1_5.html","text":"napari 0.1.5"},"/release/release_0_2_0.html":{"level":2,"children":[],"href":"/release/release_0_2_0.html","text":"napari 0.2.0"},"/release/release_0_2_1.html":{"level":2,"children":[],"href":"/release/release_0_2_1.html","text":"napari 0.2.1"},"/release/release_0_2_3.html":{"level":2,"children":[],"href":"/release/release_0_2_3.html","text":"napari 0.2.3"},"/release/release_0_2_4.html":{"level":2,"children":[],"href":"/release/release_0_2_4.html","text":"napari 0.2.4"},"/release/release_0_2_5.html":{"level":2,"children":[],"href":"/release/release_0_2_5.html","text":"napari 0.2.5"},"/release/release_0_2_6.html":{"level":2,"children":[],"href":"/release/release_0_2_6.html","text":"napari 0.2.6"},"/release/release_0_2_7.html":{"level":2,"children":[],"href":"/release/release_0_2_7.html","text":"napari 0.2.7"},"/release/release_0_2_8.html":{"level":2,"children":[],"href":"/release/release_0_2_8.html","text":"napari 0.2.8"},"/release/release_0_2_9.html":{"level":2,"children":[],"href":"/release/release_0_2_9.html","text":"napari 0.2.9"},"/release/release_0_2_10.html":{"level":2,"children":[],"href":"/release/release_0_2_10.html","text":"napari 0.2.10"},"/release/release_0_2_11.html":{"level":2,"children":[],"href":"/release/release_0_2_11.html","text":"napari 0.2.11"},"/release/release_0_2_12.html":{"level":2,"children":[],"href":"/release/release_0_2_12.html","text":"napari 0.2.12"},"/release/release_0_3_0.html":{"level":2,"children":[],"href":"/release/release_0_3_0.html","text":"napari 0.3.0"},"/release/release_0_3_1.html":{"level":2,"children":[],"href":"/release/release_0_3_1.html","text":"napari 0.3.1"},"/release/release_0_3_2.html":{"level":2,"children":[],"href":"/release/release_0_3_2.html","text":"napari 0.3.2"},"/release/release_0_3_3.html":{"level":2,"children":[],"href":"/release/release_0_3_3.html","text":"napari 0.3.3"},"/release/release_0_3_4.html":{"level":2,"children":[],"href":"/release/release_0_3_4.html","text":"napari 0.3.4"},"/release/release_0_3_5.html":{"level":2,"children":[],"href":"/release/release_0_3_5.html","text":"napari 0.3.5"},"/release/release_0_3_6.html":{"level":2,"children":[],"href":"/release/release_0_3_6.html","text":"napari 0.3.6"},"/release/release_0_3_7.html":{"level":2,"children":[],"href":"/release/release_0_3_7.html","text":"napari 0.3.7"},"/release/release_0_3_8.html":{"level":2,"children":[],"href":"/release/release_0_3_8.html","text":"napari 0.3.8"},"/release/release_0_4_0.html":{"level":2,"children":[],"href":"/release/release_0_4_0.html","text":"napari 0.4.0"},"/release/release_0_4_1.html":{"level":2,"children":[],"href":"/release/release_0_4_1.html","text":"napari 0.4.1"},"/release/release_0_4_2.html":{"level":2,"children":[],"href":"/release/release_0_4_2.html","text":"napari 0.4.2"},"/release/release_0_4_3.html":{"level":2,"children":[],"href":"/release/release_0_4_3.html","text":"napari 0.4.3"},"/release/release_0_4_4.html":{"level":2,"children":[],"href":"/release/release_0_4_4.html","text":"napari 0.4.4"},"/release/release_0_4_5.html":{"level":2,"children":[],"href":"/release/release_0_4_5.html","text":"napari 0.4.5"},"/release/release_0_4_6.html":{"level":2,"children":[],"href":"/release/release_0_4_6.html","text":"napari 0.4.6"},"/release/release_0_4_7.html":{"level":2,"children":[],"href":"/release/release_0_4_7.html","text":"napari 0.4.7"},"/release/release_0_4_8.html":{"level":2,"children":[],"href":"/release/release_0_4_8.html","text":"napari 0.4.8"},"/release/release_0_4_9.html":{"level":2,"children":[],"href":"/release/release_0_4_9.html","text":"napari 0.4.9"},"/release/release_0_4_10.html":{"level":2,"children":[],"href":"/release/release_0_4_10.html","text":"napari 0.4.10"},"/release/release_0_4_11.html":{"level":2,"children":[],"href":"/release/release_0_4_11.html","text":"napari 0.4.11"},"/release/release_0_4_12.html":{"level":2,"children":[],"href":"/release/release_0_4_12.html","text":"napari 0.4.12"},"/glossary.html":{"level":1,"children":[],"href":"/glossary.html","text":"Glossary"},"/developers/index.html":{"level":1,"children":["/developers/benchmarks.html","/developers/contributing.html","/developers/core_dev_guide.html","/developers/profiling.html","/developers/release.html","/developers/testing.html","/developers/docs.html","/developers/translations.html"],"href":"/developers/index.html","text":"Developer resources"},"/developers/translations.html":{"level":2,"children":[],"href":"/developers/translations.html","text":"Translations"},"/developers/docs.html":{"level":2,"children":[],"href":"/developers/docs.html","text":"Organization of Documentation for napari"},"/developers/testing.html":{"level":2,"children":[],"href":"/developers/testing.html","text":"Testing"},"/developers/release.html":{"level":2,"children":[],"href":"/developers/release.html","text":"Release guide"},"/developers/profiling.html":{"level":2,"children":[],"href":"/developers/profiling.html","text":"Profiling"},"/developers/core_dev_guide.html":{"level":2,"children":[],"href":"/developers/core_dev_guide.html","text":"Core Developer guide"},"/developers/contributing.html":{"level":2,"children":[],"href":"/developers/contributing.html","text":"Contributing guide"},"/developers/benchmarks.html":{"level":2,"children":[],"href":"/developers/benchmarks.html","text":"Benchmarks"},"/api/stable/index.html":{"level":1,"children":["/api/stable/napari.layers.html","/api/stable/napari.view_layers.html","/api/stable/napari.types.html","/api/stable/napari.utils.html","/api/stable/napari.plugins.html","/api/stable/napari.components.html","/api/stable/napari.qt.threading.html","/api/stable/napari.utils.perf.html","/api/stable/napari.html","/api/stable/napari.html"],"href":"/api/stable/index.html","text":"API reference"},"/api/stable/napari.html":{"level":2,"children":["/api/stable/napari.Viewer.html"],"href":"/api/stable/napari.html","text":"napari"},"/api/stable/napari.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.Viewer.html","text":"napari.Viewer"},"/api/stable/napari.utils.perf.html":{"level":2,"children":["/api/stable/napari.utils.perf.PerfEvent.html"],"href":"/api/stable/napari.utils.perf.html","text":"napari.utils.perf"},"/api/stable/napari.utils.perf.PerfEvent.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.perf.PerfEvent.html","text":"napari.utils.perf.PerfEvent"},"/api/stable/napari.qt.threading.html":{"level":2,"children":["/api/stable/napari.qt.threading.FunctionWorker.html","/api/stable/napari.qt.threading.GeneratorWorker.html","/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","/api/stable/napari.qt.threading.WorkerBase.html","/api/stable/napari.qt.threading.WorkerBaseSignals.html"],"href":"/api/stable/napari.qt.threading.html","text":"napari.qt.threading"},"/api/stable/napari.qt.threading.WorkerBaseSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBaseSignals.html","text":"napari.qt.threading.WorkerBaseSignals"},"/api/stable/napari.qt.threading.WorkerBase.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBase.html","text":"napari.qt.threading.WorkerBase"},"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","text":"napari.qt.threading.GeneratorWorkerSignals"},"/api/stable/napari.qt.threading.GeneratorWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorker.html","text":"napari.qt.threading.GeneratorWorker"},"/api/stable/napari.qt.threading.FunctionWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.FunctionWorker.html","text":"napari.qt.threading.FunctionWorker"},"/api/stable/napari.components.html":{"level":2,"children":["/api/stable/napari.components.Camera.html","/api/stable/napari.components.Dims.html","/api/stable/napari.components.LayerList.html","/api/stable/napari.components.ViewerModel.html"],"href":"/api/stable/napari.components.html","text":"napari.components"},"/api/stable/napari.components.ViewerModel.html":{"level":3,"children":[],"href":"/api/stable/napari.components.ViewerModel.html","text":"napari.components.ViewerModel"},"/api/stable/napari.components.LayerList.html":{"level":3,"children":[],"href":"/api/stable/napari.components.LayerList.html","text":"napari.components.LayerList"},"/api/stable/napari.components.Dims.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Dims.html","text":"napari.components.Dims"},"/api/stable/napari.components.Camera.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Camera.html","text":"napari.components.Camera"},"/api/stable/napari.plugins.html":{"level":2,"children":["/api/stable/napari.plugins.NapariPluginManager.html","/api/stable/napari.plugins.PackageMetadata.html","/api/stable/napari.plugins.Path.html","/api/stable/napari.plugins.PluginManifest.html"],"href":"/api/stable/napari.plugins.html","text":"napari.plugins"},"/api/stable/napari.plugins.PluginManifest.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.PluginManifest.html","text":"napari.plugins.PluginManifest"},"/api/stable/napari.plugins.Path.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.Path.html","text":"napari.plugins.Path"},"/api/stable/napari.plugins.PackageMetadata.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.PackageMetadata.html","text":"napari.plugins.PackageMetadata"},"/api/stable/napari.plugins.NapariPluginManager.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.NapariPluginManager.html","text":"napari.plugins.NapariPluginManager"},"/api/stable/napari.utils.html":{"level":2,"children":["/api/stable/napari.utils.Colormap.html","/api/stable/napari.utils.nbscreenshot.html","/api/stable/napari.utils.progress.html"],"href":"/api/stable/napari.utils.html","text":"napari.utils"},"/api/stable/napari.utils.progress.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.progress.html","text":"napari.utils.progress"},"/api/stable/napari.utils.nbscreenshot.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.nbscreenshot.html","text":"napari.utils.nbscreenshot"},"/api/stable/napari.utils.Colormap.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.Colormap.html","text":"napari.utils.Colormap"},"/api/stable/napari.types.html":{"level":2,"children":["/api/stable/napari.types.ArrayBase.html","/api/stable/napari.types.Path.html","/api/stable/napari.types.SampleDict.html","/api/stable/napari.types.TracebackType.html","/api/stable/napari.types.TypedDict.html","/api/stable/napari.types.partial.html"],"href":"/api/stable/napari.types.html","text":"napari.types"},"/api/stable/napari.types.partial.html":{"level":3,"children":[],"href":"/api/stable/napari.types.partial.html","text":"napari.types.partial"},"/api/stable/napari.types.TypedDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TypedDict.html","text":"napari.types.TypedDict"},"/api/stable/napari.types.TracebackType.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TracebackType.html","text":"napari.types.TracebackType"},"/api/stable/napari.types.SampleDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.SampleDict.html","text":"napari.types.SampleDict"},"/api/stable/napari.types.Path.html":{"level":3,"children":[],"href":"/api/stable/napari.types.Path.html","text":"napari.types.Path"},"/api/stable/napari.types.ArrayBase.html":{"level":3,"children":[],"href":"/api/stable/napari.types.ArrayBase.html","text":"napari.types.ArrayBase"},"/api/stable/napari.view_layers.html":{"level":2,"children":["/api/stable/napari.view_layers.Dims.html","/api/stable/napari.view_layers.Viewer.html"],"href":"/api/stable/napari.view_layers.html","text":"napari.view_layers"},"/api/stable/napari.view_layers.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.view_layers.Viewer.html","text":"napari.view_layers.Viewer"},"/api/stable/napari.view_layers.Dims.html":{"level":3,"children":[],"href":"/api/stable/napari.view_layers.Dims.html","text":"napari.view_layers.Dims"},"/api/stable/napari.layers.html":{"level":2,"children":["/api/stable/napari.layers.Image.html","/api/stable/napari.layers.Labels.html","/api/stable/napari.layers.Layer.html","/api/stable/napari.layers.Points.html","/api/stable/napari.layers.Shapes.html","/api/stable/napari.layers.Surface.html","/api/stable/napari.layers.Tracks.html","/api/stable/napari.layers.Vectors.html"],"href":"/api/stable/napari.layers.html","text":"napari.layers"},"/api/stable/napari.layers.Vectors.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Vectors.html","text":"napari.layers.Vectors"},"/api/stable/napari.layers.Tracks.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Tracks.html","text":"napari.layers.Tracks"},"/api/stable/napari.layers.Surface.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Surface.html","text":"napari.layers.Surface"},"/api/stable/napari.layers.Shapes.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Shapes.html","text":"napari.layers.Shapes"},"/api/stable/napari.layers.Points.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Points.html","text":"napari.layers.Points"},"/api/stable/napari.layers.Layer.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Layer.html","text":"napari.layers.Layer"},"/api/stable/napari.layers.Labels.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Labels.html","text":"napari.layers.Labels"},"/api/stable/napari.layers.Image.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Image.html","text":"napari.layers.Image"},"/community/index.html":{"level":1,"children":["/community/mission_and_values.html","/community/team.html","/community/code_of_conduct.html","/community/code_of_conduct_reporting.html","/community/governance.html","/community/working_groups.html","/community/meeting_schedule.html"],"href":"/community/index.html","text":"Community"},"/community/meeting_schedule.html":{"level":2,"children":[],"href":"/community/meeting_schedule.html","text":"Meeting schedule"},"/community/working_groups.html":{"level":2,"children":[],"href":"/community/working_groups.html","text":"Working groups"},"/community/governance.html":{"level":2,"children":[],"href":"/community/governance.html","text":"Governance model"},"/community/code_of_conduct_reporting.html":{"level":2,"children":[],"href":"/community/code_of_conduct_reporting.html","text":"Handling Code of Conduct reports"},"/community/code_of_conduct.html":{"level":2,"children":[],"href":"/community/code_of_conduct.html","text":"Code of Conduct"},"/community/team.html":{"level":2,"children":[],"href":"/community/team.html","text":"About the project and team"},"/community/mission_and_values.html":{"level":2,"children":[],"href":"/community/mission_and_values.html","text":"Mission and Values"},"/plugins/stable/index.html":{"level":1,"children":["/plugins/stable/first_plugin.html","/plugins/stable/manifest.html","/plugins/stable/contributions.html","/plugins/stable/guides.html","/plugins/stable/test_deploy.html","/plugins/stable/best_practices.html","/plugins/stable/npe2_migration_guide.html","/plugins/stable/npe1.html","/plugins/stable/find_and_install_plugin.html"],"href":"/plugins/stable/index.html","text":"Plugins"},"/plugins/stable/find_and_install_plugin.html":{"level":2,"children":[],"href":"/plugins/stable/find_and_install_plugin.html","text":"Finding and installing a napari plugin"},"/plugins/stable/npe1.html":{"level":2,"children":[],"href":"/plugins/stable/npe1.html","text":"1st Gen Plugin Guide (Deprecated)"},"/plugins/stable/npe2_migration_guide.html":{"level":2,"children":[],"href":"/plugins/stable/npe2_migration_guide.html","text":"npe2 migration guide"},"/plugins/stable/best_practices.html":{"level":2,"children":[],"href":"/plugins/stable/best_practices.html","text":"Best practices"},"/plugins/stable/test_deploy.html":{"level":2,"children":[],"href":"/plugins/stable/test_deploy.html","text":"Test and Deploy"},"/plugins/stable/guides.html":{"level":2,"children":[],"href":"/plugins/stable/guides.html","text":"Contribution Guides"},"/plugins/stable/contributions.html":{"level":2,"children":[],"href":"/plugins/stable/contributions.html","text":"Contributions Reference"},"/plugins/stable/manifest.html":{"level":2,"children":[],"href":"/plugins/stable/manifest.html","text":"Manifest Reference"},"/plugins/stable/first_plugin.html":{"level":2,"children":[],"href":"/plugins/stable/first_plugin.html","text":"Your First Plugin"},"/guides/stable/index.html":{"level":1,"children":["/guides/stable/magicgui.html","/guides/stable/event_loop.html","/guides/stable/threading.html","/guides/stable/rendering-explanation.html","/guides/stable/rendering.html","/guides/stable/performance.html","/guides/stable/3D_interactivity.html","/guides/stable/events_reference.html","/guides/stable/contexts_expressions.html","/guides/stable/preferences.html"],"href":"/guides/stable/index.html","text":"In-depth explanations"},"/guides/stable/preferences.html":{"level":2,"children":[],"href":"/guides/stable/preferences.html","text":"Preferences"},"/guides/stable/contexts_expressions.html":{"level":2,"children":[],"href":"/guides/stable/contexts_expressions.html","text":"Contexts and Expressions in napari"},"/guides/stable/events_reference.html":{"level":2,"children":[],"href":"/guides/stable/events_reference.html","text":"Events reference"},"/guides/stable/3D_interactivity.html":{"level":2,"children":[],"href":"/guides/stable/3D_interactivity.html","text":"3D interactivity"},"/guides/stable/performance.html":{"level":2,"children":[],"href":"/guides/stable/performance.html","text":"napari performance"},"/guides/stable/rendering.html":{"level":2,"children":[],"href":"/guides/stable/rendering.html","text":"Asynchronous rendering"},"/guides/stable/rendering-explanation.html":{"level":2,"children":[],"href":"/guides/stable/rendering-explanation.html","text":"Rendering in napari"},"/guides/stable/threading.html":{"level":2,"children":[],"href":"/guides/stable/threading.html","text":"Multithreading in napari"},"/guides/stable/event_loop.html":{"level":2,"children":[],"href":"/guides/stable/event_loop.html","text":"An introduction to the event loop in napari"},"/guides/stable/magicgui.html":{"level":2,"children":[],"href":"/guides/stable/magicgui.html","text":"Using magicgui in napari"},"/howtos/index.html":{"level":1,"children":["/howtos/connecting_events.html","/howtos/napari_imageJ.html","/howtos/docker.html","/howtos/perfmon.html"],"href":"/howtos/index.html","text":"How-to guides"},"/howtos/perfmon.html":{"level":2,"children":[],"href":"/howtos/perfmon.html","text":"Performance monitoring"},"/howtos/docker.html":{"level":2,"children":[],"href":"/howtos/docker.html","text":"Napari in Docker"},"/howtos/napari_imageJ.html":{"level":2,"children":[],"href":"/howtos/napari_imageJ.html","text":"napari + ImageJ how-to guide"},"/howtos/connecting_events.html":{"level":2,"children":[],"href":"/howtos/connecting_events.html","text":"Hooking up your own events"},"/tutorials/index.html":{"level":1,"children":["/tutorials/segmentation/index.html","/tutorials/tracking/index.html","/tutorials/applications/annotate_points.html","/tutorials/applications/dask.html","/tutorials/further-resources/napari-workshops.html","/tutorials/tracking/cell_tracking.html","/tutorials/segmentation/annotate_segmentation.html"],"href":"/tutorials/index.html","text":"Tutorials"},"/tutorials/segmentation/annotate_segmentation.html":{"level":2,"children":[],"href":"/tutorials/segmentation/annotate_segmentation.html","text":"Annotating segmentation with text and bounding boxes"},"/tutorials/tracking/cell_tracking.html":{"level":2,"children":[],"href":"/tutorials/tracking/cell_tracking.html","text":"Single cell tracking with napari"},"/tutorials/further-resources/napari-workshops.html":{"level":2,"children":[],"href":"/tutorials/further-resources/napari-workshops.html","text":"napari workshops"},"/tutorials/applications/dask.html":{"level":2,"children":[],"href":"/tutorials/applications/dask.html","text":"Using Dask and napari to process & view large datasets"},"/tutorials/applications/annotate_points.html":{"level":2,"children":[],"href":"/tutorials/applications/annotate_points.html","text":"Annotating videos with napari"},"/tutorials/tracking/index.html":{"level":2,"children":[],"href":"/tutorials/tracking/index.html","text":"Tracking"},"/tutorials/segmentation/index.html":{"level":2,"children":[],"href":"/tutorials/segmentation/index.html","text":"Segmentation"},"/tutorials/start_index.html":{"level":1,"children":["/tutorials/fundamentals/installation.html","/tutorials/fundamentals/getting_started.html","/tutorials/fundamentals/viewer.html","/tutorials/fundamentals/image.html","/tutorials/fundamentals/labels.html","/tutorials/fundamentals/points.html","/tutorials/fundamentals/shapes.html","/tutorials/fundamentals/surface.html","/tutorials/fundamentals/tracks.html","/tutorials/fundamentals/vectors.html"],"href":"/tutorials/start_index.html","text":"Getting Started"},"/tutorials/fundamentals/vectors.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/vectors.html","text":"vectors layer tutorial"},"/tutorials/fundamentals/tracks.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/tracks.html","text":"tracks layer tutorial"},"/tutorials/fundamentals/surface.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/surface.html","text":"surface layer tutorial"},"/tutorials/fundamentals/shapes.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/shapes.html","text":"shapes layer tutorial"},"/tutorials/fundamentals/points.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/points.html","text":"points layer tutorial"},"/tutorials/fundamentals/labels.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/labels.html","text":"labels layer tutorial"},"/tutorials/fundamentals/image.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/image.html","text":"image layer tutorial"},"/tutorials/fundamentals/viewer.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/viewer.html","text":"napari viewer tutorial"},"/tutorials/fundamentals/getting_started.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/getting_started.html","text":"Getting started with napari"},"/tutorials/fundamentals/installation.html":{"level":2,"children":[],"href":"/tutorials/fundamentals/installation.html","text":"How to install napari on your machine"}},"rootGlobalHeaders":["/tutorials/start_index.html","/tutorials/index.html","/howtos/index.html","/guides/stable/index.html","/plugins/stable/index.html","/community/index.html","/api/stable/index.html","/developers/index.html","/glossary.html","/release/index.html","/roadmaps/index.html","https://github.com/napari/napari","https://napari-hub.org"],"pageTitle":"npe2 migration guide","pageFrontMatter":{},"previewImage":"","previewDescription":"This document details how to convert a plugin using the first generation\nnapari-plugin-engine, to the new npe2 format.","appScripts":[{"src":"/_static/documentation_options.js"},{"src":"/_static/jquery.js"},{"src":"/_static/underscore.js"},{"src":"/_static/doctools.js"},{"src":"/_static/togglebutton.js"},{"src":"/_static/clipboard.min.js"},{"src":"/_static/copybutton.js"},{"children":"var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';"},{"children":"const THEBE_JS_URL = \"https://unpkg.com/thebe@0.8.2/lib/index.js\"\nconst thebe_selector = \".thebe,.cell\"\nconst thebe_selector_input = \"pre\"\nconst thebe_selector_output = \".output, .cell_output\"\n"},{"src":"/_static/sphinx-thebe.js"}],"appStyleSheets":[{"href":"/_static/pygments.css","rel":"stylesheet"},{"href":"/_static/togglebutton.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/copybutton.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/mystnb.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/sphinx-thebe.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/panels-variables.06eb56fa6e07937060861dad626602ad.css","rel":"stylesheet","type":"text/css"}],"pageBodyHtml":"\n        <div id=\"documentation_options\" data-url_root=\"../../\"></div>\n        <div class=\"section\" id=\"npe2-migration-guide\">\n<span id=\"id1\"></span>\n<p>This document details how to convert a plugin using the first generation\n<code class=\"docutils literal notranslate\"><span class=\"pre\">napari-plugin-engine</span></code>, to the new <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> format.</p>\n<p>The primary difference between the first generation and second generation plugin\nsystem relates to how napari <em>discovers</em> plugin functionality. In the first\ngeneration plugin engine, napari had to <em>import</em> plugin modules to search for\nhook implementations decorated with <code class=\"docutils literal notranslate\"><span class=\"pre\">@napari_hook_implementation</span></code>. In <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code>,\nplugins declare their contributions <em>statically</em> with a <a class=\"reference internal\" href=\"manifest.html\"><span class=\"doc std std-doc\">manifest\nfile</span></a>.</p>\n<div class=\"section\" id=\"migrating-using-the-npe2-command-line-tool\">\n<h2>Migrating using the <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> command line tool<a class=\"headerlink\" href=\"#migrating-using-the-npe2-command-line-tool\" title=\"Permalink to this headline\">¶</a></h2>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> provides a command line interface to help convert a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">napari-plugin-engine</span></code>-style plugin.</p>\n<div class=\"section\" id=\"install-npe2\">\n<h3>1. Install <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code><a class=\"headerlink\" href=\"#install-npe2\" title=\"Permalink to this headline\">¶</a></h3>\n<div class=\"highlight-sh notranslate\"><div class=\"highlight\"><pre><span></span>pip install npe2\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> command line tool provides a few commands to help you develop your\nplugin. In this case we’re going to use <code class=\"docutils literal notranslate\"><span class=\"pre\">convert</span></code> to <em>modify</em> a repository\nto fit the new pattern:</p>\n<div class=\"highlight-sh notranslate\"><div class=\"highlight\"><pre><span></span>$ npe2 convert --help\n\nUsage: npe2 convert <span class=\"o\">[</span>OPTIONS<span class=\"o\">]</span> PATH\n\n  Convert first generation napari plugin to new <span class=\"o\">(</span>manifest<span class=\"o\">)</span> format.\n\nArguments:\n  PATH  Path of a <span class=\"nb\">local</span> repository to convert <span class=\"o\">(</span>package must also be installed\n        <span class=\"k\">in</span> current environment<span class=\"o\">)</span>. Or, the name of an installed package/plugin.\n        If a package is provided instead of a directory, the new manifest will\n        simply be printed to stdout.  <span class=\"o\">[</span>required<span class=\"o\">]</span>\n\n\nOptions:\n  -n, --dry-runs  Just print manifest to stdout. Do not modify anything\n                  <span class=\"o\">[</span>default: False<span class=\"o\">]</span>\n\n  --help          Show this message and exit.\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"ensure-your-plugin-is-intalled-in-your-environment\">\n<h3>2. Ensure your plugin is intalled in your environment<a class=\"headerlink\" href=\"#ensure-your-plugin-is-intalled-in-your-environment\" title=\"Permalink to this headline\">¶</a></h3>\n<p>This step is critical: your first-generation plugin <em>must</em> be installed\nin your currently active environment for <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> to find it.</p>\n<p>Typically this will look something like:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">conda</span> <span class=\"n\">activate</span> <span class=\"n\">your</span><span class=\"o\">-</span><span class=\"n\">env</span>\n<span class=\"n\">cd</span> <span class=\"n\">path</span><span class=\"o\">/</span><span class=\"n\">to</span><span class=\"o\">/</span><span class=\"n\">your</span><span class=\"o\">/</span><span class=\"n\">plugin</span><span class=\"o\">/</span><span class=\"n\">repository</span>\n<span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">e</span> <span class=\"o\">.</span>\n</pre></div>\n</div>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> cannot import your plugin, you will likely get an error\nlike:</p>\n<div class=\"highlight-pytb notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"x\">PackageNotFoundError: We tried hard! but could not detect a plugin named '...'</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"convert-your-plugin-with-npe2-convert\">\n<h3>3. Convert your plugin with <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code><a class=\"headerlink\" href=\"#convert-your-plugin-with-npe2-convert\" title=\"Permalink to this headline\">¶</a></h3>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Executing <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span> <span class=\"pre\">.</span></code> will <strong>modify</strong> the current directory!</p>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> command will:</p>\n<ol class=\"simple\">\n<li><p>Inspect your plugin for hook implementations, and generate an npe2-compatible\n<a class=\"reference internal\" href=\"manifest.html\"><span class=\"doc std std-doc\">manifest file</span></a>, called <code class=\"docutils literal notranslate\"><span class=\"pre\">napari.yaml</span></code>.</p></li>\n<li><p><strong>Modify</strong> your <code class=\"docutils literal notranslate\"><span class=\"pre\">setup.cfg</span></code> to use the new <code class=\"docutils literal notranslate\"><span class=\"pre\">napari.manifest</span></code> entry point, and\ninclude the manifest file in your package data.</p></li>\n</ol>\n<p>Use the <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> command, passing a path to a plugin\nrepository (here, the current directory <code class=\"docutils literal notranslate\"><span class=\"pre\">.</span></code>)</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># convert the current directory</span>\n❯ npe2 convert .\n✔  Conversion complete!\nNew manifest at /Users/talley/Desktop/napari-animation/napari_animation/napari.yaml.\nIf you have any napari_plugin_engine imports or hook_implementation decorators, you may remove them now.\n</pre></div>\n</div>\n<p>You are encouraged to inspect the newly-generated <code class=\"docutils literal notranslate\"><span class=\"pre\">napari.yaml</span></code> file.  Refer to\nthe <a class=\"reference internal\" href=\"manifest.html\"><span class=\"doc std std-doc\">manifest</span></a> and <a class=\"reference internal\" href=\"contributions.html\"><span class=\"doc std std-doc\">contributions</span></a> references pages\nfor details on each field in the manifest.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>In some cases the conversion tool may not be able to completely convert your\nplugin.  Notable cases include:</p>\n<ul class=\"simple\">\n<li><p>multi-layer writers using the <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_get_writer</span></code> hook specification</p></li>\n<li><p><em>locally</em> scoped functions returned from <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_experimental_provide_function</span></code>.\nAll <a class=\"reference internal\" href=\"contributions.html#contributions-commands\"><span class=\"std std-ref\">command contributions</span></a>\nmust have global <code class=\"docutils literal notranslate\"><span class=\"pre\">python_paths</span></code>.</p></li>\n</ul>\n<p>Feel free to contact us on zulip or github if you need help converting!.</p>\n</div>\n<p>Now, update the local package metadata by repeating:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"o\">&gt;</span> <span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">e</span> <span class=\"o\">.</span>\n</pre></div>\n</div>\n<p>The next time napari is run, your plugin should be discovered as an\n<code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> plugin.</p>\n</div>\n</div>\n<hr class=\"docutils\">\n<div class=\"section\" id=\"migration-reference\">\n<h2>Migration Reference<a class=\"headerlink\" href=\"#migration-reference\" title=\"Permalink to this headline\">¶</a></h2>\n<blockquote>\n<div><p><em>This section goes into detail on the differences between first-generation and\nsecond-generation implementations. In many cases, this will be more detail than\nyou need.  If you are still struggling with a specific conversion after using\n<code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> and reading the <a class=\"reference internal\" href=\"contributions.html\"><span class=\"doc std std-doc\">contributions</span></a> reference and\n<a class=\"reference internal\" href=\"guides.html\"><span class=\"doc std std-doc\">guides</span></a>, this section may be of help.</em></p>\n</div></blockquote>\n<p>Existing <code class=\"docutils literal notranslate\"><span class=\"pre\">napari-plugin-engine</span></code> plugins expose functionality via <em>hook\nimplementations</em>. These are functions decorated to indicate they fullfil a\n<em>hook specification</em> described by napari. Though there are some exceptions,\nmost <em>hook implementations</em> can be straightforwardly mapped to npe2 <a class=\"reference internal\" href=\"contributions.html\"><span class=\"doc std std-doc\">contributions</span></a></p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> provides a command-line tool that will generate plugin manifests by\ninspecting exposed <em>hook implementations</em>. Below, we will walk through the\nkinds of migrations <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span> <span class=\"pre\">convert</span></code> helps with.</p>\n<p>For each type of <em>hook specification</em> there is a corresponding section below\nwith migration tips. Each lists the <em>hook specifications</em> that are relevant to\nthat section and an example manifest. For details, refer to the\n<a class=\"reference internal\" href=\"contributions.html\"><span class=\"doc std std-doc\">Contributions references</span></a>.</p>\n<div class=\"section\" id=\"readers\">\n<h3>Readers<a class=\"headerlink\" href=\"#readers\" title=\"Permalink to this headline\">¶</a></h3>\n<p>Functions that acted as <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_get_reader</span></code> hooks can be bound directly as the\ncommand for an <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> reader.</p>\n<div class=\"section\" id=\"napari-hook-spec\">\n<h4>napari_hook_spec<a class=\"headerlink\" href=\"#napari-hook-spec\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_get_reader</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]])</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">ReaderFunction</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"npe2-contributions\">\n<h4>npe2 contributions<a class=\"headerlink\" href=\"#npe2-contributions\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari.get_reader</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari.plugins._builtins:napari_get_reader</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Read data using napari's builtin reader</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">readers</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari.get_reader</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">accepts_directories</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">true</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">filename_patterns</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">[</span><span class=\"s\">\"*.csv\"</span><span class=\"p p-Indicator\">,</span><span class=\"w\"> </span><span class=\"s\">\"*.npy\"</span><span class=\"p p-Indicator\">]</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"writers-single-layer-writers\">\n<h3>Writers: Single-layer writers<a class=\"headerlink\" href=\"#writers-single-layer-writers\" title=\"Permalink to this headline\">¶</a></h3>\n<p>Functions that act as single-layer writers like <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_write_image</span></code> hooks can\nbe bound directly as the command for an <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> writer. The layer\nconstraint(<code class=\"docutils literal notranslate\"><span class=\"pre\">layer_types</span></code>) and <code class=\"docutils literal notranslate\"><span class=\"pre\">filename_extensions</span></code> fields need to be\npopulated.</p>\n<p>Since these writers handle only one layer at a time, the <code class=\"docutils literal notranslate\"><span class=\"pre\">layer_type</span></code> is\nstraightforward: <code class=\"docutils literal notranslate\"><span class=\"pre\">['image']</span></code> for an image writer, <code class=\"docutils literal notranslate\"><span class=\"pre\">['points']</span></code> for a point-set\nwriter, etc.</p>\n<p>The list of <code class=\"docutils literal notranslate\"><span class=\"pre\">filename_extensions</span></code> is used to determine how the writer is\npresented in napari’s “Save As” dialog.</p>\n<div class=\"section\" id=\"id2\">\n<h4>napari_hook_spec<a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_write_image</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_write_labels</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_write_points</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_write_shapes</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_write_surfaces</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_write_vectors</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"example-npe2-contribution\">\n<h4>Example npe2 contribution<a class=\"headerlink\" href=\"#example-npe2-contribution\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg</span><span class=\"w\"></span>\n<span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari svg</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.write_image</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.hook_implementations:napari_write_image</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Write Image as SVG</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">writers</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.write_image</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">layer_types</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">[</span><span class=\"s\">\"image\"</span><span class=\"p p-Indicator\">]</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">filename_extensions</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">[</span><span class=\"s\">\".svg\"</span><span class=\"p p-Indicator\">]</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"writers-multi-layer-writers\">\n<h3>Writers: Multi-layer writers<a class=\"headerlink\" href=\"#writers-multi-layer-writers\" title=\"Permalink to this headline\">¶</a></h3>\n<p>In npe2, the writer specification declares what file extensions and layer\ntypes are compatible with a writer. This is a departure from the behavior of\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_get_writer</span></code> which was responsible for rejecting data that was\nincompatible.</p>\n<p>Usually, the npe2 writer command should be bound to one of the functions\nreturned by <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_get_writer</span></code>. From the example below, this is the <code class=\"docutils literal notranslate\"><span class=\"pre\">writer</span></code>\nfunction.</p>\n<p>When migrating, you’ll need to fill out the <code class=\"docutils literal notranslate\"><span class=\"pre\">layer_types</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">filename_extensions</span></code> used by your writer. <code class=\"docutils literal notranslate\"><span class=\"pre\">layer_types</span></code> is a set of\nconstraints describing the combinations of layer types acceptable by this\nwriter. More about layer types can be found in the\n<a class=\"reference external\" href=\"./guides.html#layer-type-constraints\" target=\"_blank\" rel=\"noreferrer\">Writer contribution guide</a>.</p>\n<p>In the example below, the svg writer accepts a set of layers with 0 or more\nimages, and 0 or more label layers, and so on. It will not accept surface\nlayers, so if any surface layer is present this writer won’t be invoked.</p>\n<p>Because layer type constraints are specified in the manifest, no plugin code\nhas to be imported or run until a compatible writer is found.</p>\n<div class=\"section\" id=\"id3\">\n<h4>napari_hook_spec<a class=\"headerlink\" href=\"#id3\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_get_writer</span><span class=\"p\">(</span>\n    <span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">layer_types</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n<span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">WriterFunction</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Where the <code class=\"docutils literal notranslate\"><span class=\"pre\">WriterFunction</span></code> is something like:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">writer</span><span class=\"p\">(</span>\n    <span class=\"n\">path</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">layer_data</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]]</span>\n    <span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id4\">\n<h4>Example npe2 contribution<a class=\"headerlink\" href=\"#id4\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg</span><span class=\"w\"></span>\n<span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari SVG</span><span class=\"w\"></span>\n<span class=\"nt\">entry_point</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.svg_writer</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Write SVG</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.hook_implementations:writer</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">writers</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_svg.svg_writer</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">layer_types</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">[</span><span class=\"s\">\"image*\"</span><span class=\"p p-Indicator\">,</span><span class=\"w\"> </span><span class=\"s\">\"labels*\"</span><span class=\"p p-Indicator\">,</span><span class=\"w\"> </span><span class=\"s\">\"points*\"</span><span class=\"p p-Indicator\">,</span><span class=\"w\"> </span><span class=\"s\">\"shapes*\"</span><span class=\"p p-Indicator\">,</span><span class=\"w\"> </span><span class=\"s\">\"vectors*\"</span><span class=\"p p-Indicator\">]</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">filename_extensions</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">[</span><span class=\"s\">\".svg\"</span><span class=\"p p-Indicator\">]</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"widgets\">\n<h3>Widgets<a class=\"headerlink\" href=\"#widgets\" title=\"Permalink to this headline\">¶</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">napari_experimental_provide_dock_widget</span></code> hooks return another function that\ncan be used to instantiate a widget and, optionally, arguments to be passed to\nthat function.</p>\n<p>In contrast the callable for an <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> widget contribution is bound to the\nfunction actually instantiating the widget. It accepts only one argument: a\nnapari <code class=\"docutils literal notranslate\"><span class=\"pre\">Viewer</span></code> proxy instance. The proxy restricts access to some <code class=\"docutils literal notranslate\"><span class=\"pre\">Viewer</span></code>\nfunctionality like private methods.</p>\n<p>Similarly <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_experimental_provide_function</span></code> hooks return ane or more\nfunctions to be wrapped with <a class=\"reference external\" href=\"https://napari.org/magicgui\" target=\"_blank\" rel=\"noreferrer\">magicgui</a>. In <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code>, each of these functions\nshould be added as a <code class=\"docutils literal notranslate\"><span class=\"pre\">Command</span></code> contribution with an associated <code class=\"docutils literal notranslate\"><span class=\"pre\">Widget</span></code>\ncontribution. For each of these <code class=\"docutils literal notranslate\"><span class=\"pre\">Widget</span></code> contributions, the manifest\n<code class=\"docutils literal notranslate\"><span class=\"pre\">autogenerate:</span> <span class=\"pre\">true</span></code> flag should be set so that <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> knows to use <code class=\"docutils literal notranslate\"><span class=\"pre\">magicgui</span></code>.</p>\n<div class=\"section\" id=\"id5\">\n<h4>napari_hook_spec<a class=\"headerlink\" href=\"#id5\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_experimental_provide_dock_widget</span><span class=\"p\">()</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Union</span><span class=\"p\">[</span>\n    <span class=\"n\">AugmentedWidget</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">AugmentedWidget</span><span class=\"p\">]</span>\n<span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>or</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_experimental_provide_function</span><span class=\"p\">()</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Union</span><span class=\"p\">[</span>\n    <span class=\"n\">FunctionType</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">FunctionType</span><span class=\"p\">]</span>\n<span class=\"p\">]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id6\">\n<h4>Example npe2 contribution<a class=\"headerlink\" href=\"#id6\" title=\"Permalink to this headline\">¶</a></h4>\n<p><em>Dock Widget</em></p>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari-animation</span><span class=\"w\"></span>\n<span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">animation</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari-animation.widget</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_animation._qt:AnimationWidget</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Make animation widget</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">widgets</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">napari_animation.widget</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Wizard</span><span class=\"w\"></span>\n</pre></div>\n</div>\n<p><em>Function widget</em></p>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-function-plugin</span><span class=\"w\"></span>\n<span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">My function plugin!</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-function-plugin.func</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my_function_plugin:my_typed_function</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Open widget for my function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">widgets</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-function-plugin.func</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">My function</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">autogenerate</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">true</span><span class=\"w\"> </span><span class=\"c1\"># &lt;-- will wrap my_typed_function with magicgui</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"sample-data-providers\">\n<h3>Sample data providers<a class=\"headerlink\" href=\"#sample-data-providers\" title=\"Permalink to this headline\">¶</a></h3>\n<p>Each sample returned from <code class=\"docutils literal notranslate\"><span class=\"pre\">napari_provide_sample_data()</span></code> should be bound as an\nindividual sample data contribution.</p>\n<div class=\"section\" id=\"id7\">\n<h4>napari_hook_spec<a class=\"headerlink\" href=\"#id7\" title=\"Permalink to this headline\">¶</a></h4>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">napari_provide_sample_data</span><span class=\"p\">()</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"n\">SampleData</span><span class=\"p\">,</span> <span class=\"n\">SampleDict</span><span class=\"p\">]]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id8\">\n<h4>Example npe2 contribution<a class=\"headerlink\" href=\"#id8\" title=\"Permalink to this headline\">¶</a></h4>\n<p>This example sample data provider:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">_generate_random_data</span><span class=\"p\">(</span><span class=\"n\">shape</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">512</span><span class=\"p\">,</span> <span class=\"mi\">512</span><span class=\"p\">)):</span>\n    <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"p\">[(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'random data'</span><span class=\"p\">})]</span>\n\n<span class=\"nd\">@napari_hook_implementation</span>\n<span class=\"k\">def</span> <span class=\"nf\">napari_provide_sample_data</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'random data'</span><span class=\"p\">:</span> <span class=\"n\">_generate_random_data</span><span class=\"p\">,</span>\n        <span class=\"s1\">'random image'</span><span class=\"p\">:</span> <span class=\"s1\">'https://picsum.photos/1024'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'sample_key'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'display_name'</span><span class=\"p\">:</span> <span class=\"s1\">'Some Random Data (512 x 512)'</span>\n            <span class=\"s1\">'data'</span><span class=\"p\">:</span> <span class=\"n\">_generate_random_data</span><span class=\"p\">,</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n</pre></div>\n</div>\n<p>Should be migrated to:</p>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-plugin</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">commands</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-plugin.random</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">title</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Generate random data</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">python_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my_plugin:_generate_random_data</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">sample_data</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">display_name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Some Random Data (512 x 512)</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">key</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">random data</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">command</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-plugin.random</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">uri</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://picsum.photos/1024</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">key</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">random image</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"themes\">\n<h3>Themes<a class=\"headerlink\" href=\"#themes\" title=\"Permalink to this headline\">¶</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">napari_experimental_provide_theme()</span></code> hooks return a dictionary of theme\nproperties. These properties can be directly embedded in <code class=\"docutils literal notranslate\"><span class=\"pre\">npe2</span></code> theme\ncontributions. This allows napari to read the theming data without running any\ncode in the plugin package!</p>\n<div class=\"section\" id=\"example\">\n<h4>Example<a class=\"headerlink\" href=\"#example\" title=\"Permalink to this headline\">¶</a></h4>\n<p>The theme provided by this hook:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">get_new_theme</span><span class=\"p\">()</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Tuple</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">]]:</span>\n    <span class=\"c1\"># specify theme(s) that should be added to napari</span>\n    <span class=\"n\">themes</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"super_dark\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"super_dark\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"background\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(12, 12, 12)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"foreground\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(65, 72, 81)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"primary\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(90, 98, 108)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"secondary\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(134, 142, 147)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"highlight\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(106, 115, 128)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"text\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(240, 241, 242)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"icon\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(209, 210, 212)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"warning\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(153, 18, 31)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"current\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(0, 122, 204)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"syntax_style\"</span><span class=\"p\">:</span> <span class=\"s2\">\"native\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"console\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rgb(0, 0, 0)\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"canvas\"</span><span class=\"p\">:</span> <span class=\"s2\">\"black\"</span><span class=\"p\">,</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"n\">themes</span>\n</pre></div>\n</div>\n<p>becomes this theme contribution in the plugin manifest:</p>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">my-plugin</span><span class=\"w\"></span>\n<span class=\"nt\">contributions</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">themes</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">label</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Super dark</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">id</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">super_dark</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">dark</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">colors</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">background</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(12,</span><span class=\"nv\"> </span><span class=\"s\">12,</span><span class=\"nv\"> </span><span class=\"s\">12)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">foreground</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(65,</span><span class=\"nv\"> </span><span class=\"s\">72,</span><span class=\"nv\"> </span><span class=\"s\">81)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">primary</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(90,</span><span class=\"nv\"> </span><span class=\"s\">98,</span><span class=\"nv\"> </span><span class=\"s\">108)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">secondary</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(134,</span><span class=\"nv\"> </span><span class=\"s\">142,</span><span class=\"nv\"> </span><span class=\"s\">147)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">highlight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(106,</span><span class=\"nv\"> </span><span class=\"s\">115,</span><span class=\"nv\"> </span><span class=\"s\">128)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">text</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(240,</span><span class=\"nv\"> </span><span class=\"s\">241,</span><span class=\"nv\"> </span><span class=\"s\">242)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">icon</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(209,</span><span class=\"nv\"> </span><span class=\"s\">210,</span><span class=\"nv\"> </span><span class=\"s\">212)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">warning</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(153,</span><span class=\"nv\"> </span><span class=\"s\">18,</span><span class=\"nv\"> </span><span class=\"s\">31)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">current</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(0,</span><span class=\"nv\"> </span><span class=\"s\">122,</span><span class=\"nv\"> </span><span class=\"s\">204)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">syntax_style</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"native\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">console</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"rgb(0,</span><span class=\"nv\"> </span><span class=\"s\">0,</span><span class=\"nv\"> </span><span class=\"s\">0)\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nt\">canvas</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">\"black\"</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            kernelName: \"python3\",\n            path: \"./plugins/stable\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>\n      ","pageHeaders":[{"href":"#migrating-using-the-npe2-command-line-tool","text":"Migrating using the npe2 command line tool"},{"href":"#migration-reference","text":"Migration Reference"}],"ipynbSource":"","mdSource":"/_sources/plugins/stable/npe2_migration_guide.md"}},"__N_SSG":true}